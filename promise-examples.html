<!DOCTYPE html>
<html>
<body>
<h1>JavaScript Promise Object</h1>
<h2>The then() Method</h2>

<p id="demo"></p>

<script>

function myDisplayer(some){
    document.getElementById("demo").innerHTML = some;
}



const promise = new Promise ((resolve, reject) =>{
    // Condition to resolve or reject the promise
    // setTimeout(() => resolve("Done!"), 2000);
    const num = Math.random();
    if(num >= 0.5){
        resolve("Promise is fulfilled!");
    } else {
        reject("Promise failed!");
    }
});

function handleResolve(value){
    console.log(value);
}

function handleReject(reason){
    console.error(reason);
}

promise.then(handleResolve, handleReject);

let myPromise = new Promise(function(myResolve, myReject){
    //"Producing Code" (May take some time);

    let x =1;

    if (x == 0){
        myResolve("OK");
    } else {
        myReject("Error");
    }
});

// "Consimung Code" (Must wait for a fulfilled Promise)
myPromise.then(
    function(value){myDisplayer(value);},
    function(error){myDisplayer(error);}
);



</script>

</body>
</html>